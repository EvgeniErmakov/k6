# –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Elasticsearch
- **–ü—Ä–æ–±–ª–µ–º–∞**: Disk watermark –ø—Ä–µ–≤—ã—à–µ–Ω - –∏–Ω–¥–µ–∫—Å—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–ª–∏ –≤ read-only
- **–†–µ—à–µ–Ω–∏–µ**: –û—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ disk threshold –≤ docker-compose.yml
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–∫–ª–∞—Å—Ç–µ—Ä green/yellow)

### 2. Kibana  
- **–ü—Ä–æ–±–ª–µ–º–∞**: Timeout –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–æ–≤ (index_not_green_timeout)
- **–ü—Ä–∏—á–∏–Ω–∞**: Elasticsearch –±—ã–ª –≤ —Å—Ç–∞—Ç—É—Å–µ RED
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Elasticsearch, Kibana –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 3. Grafana
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ "invalid index pattern k6-metrics*"
- **–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–æ –ø–æ–ª–µ –≤—Ä–µ–º–µ–Ω–∏ —Å `@timestamp` –Ω–∞ `Time` –≤ datasource
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, datasource –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ Elasticsearch: http://localhost:9200
- ‚úÖ Grafana: http://localhost:3000 (admin/admin)
- ‚úÖ Kibana: http://localhost:5601

### –î–∞–Ω–Ω—ã–µ –≤ Elasticsearch:
- ‚úÖ –ò–Ω–¥–µ–∫—Å `k6-metrics` —Å–æ–∑–¥–∞–Ω
- ‚úÖ 399 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∏–Ω–¥–µ–∫—Å–µ
- ‚úÖ –ü–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
  - `MetricName` - –∏–º—è –º–µ—Ç—Ä–∏–∫–∏
  - `MetricType` - —Ç–∏–ø –º–µ—Ç—Ä–∏–∫–∏
  - `Value` - –∑–Ω–∞—á–µ–Ω–∏–µ
  - `Time` - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ timeField)
  - `Tags` - —Ç–µ–≥–∏

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Grafana

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ datasource (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ):
```yaml
URL: http://elasticsearch:9200
Index pattern: k6-metrics*
Time field: Time
Elasticsearch version: 8
```

### –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. Configuration ‚Üí Data Sources ‚Üí Elasticsearch
3. Click "Save & Test" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
4. Dashboards ‚Üí k6 Load Test Dashboard

## üìù –í–∞–∂–Ω–æ

### –ü–æ–ª—è –¥–∞–Ω–Ω—ã—Ö k6 –≤ Elasticsearch:
- **Time** - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (–Ω–µ @timestamp!)
- **MetricName** - –∏–º—è –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "http_reqs", "vus")
- **Value** - –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏
- **Tags** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ß–∞—Å—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- `http_reqs` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `http_req_duration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤  
- `http_req_failed` - –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `vus` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞:
```bash
# –ï—Å–ª–∏ k6 —É–∂–µ —Å–æ–±—Ä–∞–Ω —Å –ø–ª–∞–≥–∏–Ω–æ–º:
export K6_ELASTICSEARCH_URL=http://localhost:9200
./k6 run tests/load_test.js -o output-elasticsearch
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
# –°–ø–∏—Å–æ–∫ –∏–Ω–¥–µ–∫—Å–æ–≤
curl "http://localhost:9200/_cat/indices/k6-metrics*?v"

# –ü–æ–∏—Å–∫ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
curl "http://localhost:9200/k6-metrics/_search?q=MetricName:http_reqs&size=5&pretty"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ Kibana:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5601
2. Stack Management ‚Üí Index Patterns
3. Create index pattern: `k6-metrics*`
4. Time field: **Time** (–Ω–µ @timestamp!)
5. Discover ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Disk space warning**: Elasticsearch —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
   - –†–µ—à–µ–Ω–∏–µ: –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

2. **Yellow status**: –ò–Ω–¥–µ–∫—Å k6-metrics –≤ —Å—Ç–∞—Ç—É—Å–µ yellow (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è single-node)
   - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –æ–¥–Ω–∏–º —É–∑–ª–æ–º
   - Red —Å—Ç–∞—Ç—É—Å –æ–∑–Ω–∞—á–∞–ª –±—ã –ø—Ä–æ–±–ª–µ–º—ã

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- README.md - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- QUICKSTART.md - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- TEST_INTEGRATION.md - –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ELASTICSEARCH_STATUS.md - —Å—Ç–∞—Ç—É—Å Elasticsearch

## ‚ú® –ò—Ç–æ–≥

**–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å k6.

